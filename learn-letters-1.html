<!DOCTYPE html>
<html id="html-tag">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Alphabet Vehicles</title>
<link rel="stylesheet" href="common.css">
<style>

.mirror { transform: scaleX(-1); }

.letter-display {
  font-size: 100px;
  font-weight: bold;
  color: #1565c0;
  margin: 10px 0;
}

.vehicle-emoji {
  font-size: 100px;
  margin: 10px;
  cursor: pointer;
  display: block;
}

.word-display {
  font-size: 40px;
  color: #2e7d32;
  font-weight: bold;
  margin-bottom: 20px;
}

.nav-container {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.btn-prev { background-color: black; color: white; }
.btn-next { background-color: black; color: white; }
</style>
</head>

<body class="rtl" id="body-tag">

<div id="topbar">
  <button class="btn" onclick="location.href='index.html'">ðŸ”™</button>
</div>

<div id="game-container">
  <div class="letter-display" id="letter">-</div>
  <div class="vehicle-emoji" id="emoji" onclick="speakAll()">-</div>
  <div class="word-display" id="word">-</div>

  <div id="nav-container" class="nav-container">
    <button class="btn btn-prev" id="prev-btn" onclick="changeLetter(-1)">â—€</button>
    <button class="btn" onclick="speakAll()">ðŸ“¢</button>
    <button class="btn btn-next" id="next-btn" onclick="changeLetter(1)">â–¶</button>
  </div>
</div>

<script>
const languages = {
  he: {
    dir: 'rtl',
    langCode: 'he-IL',
    data: [
      { char:'×', w:'××•×˜×•×‘×•×¡', speakW:'××•Ö¹×˜×•Ö¹×‘Ö¼×•Ö¼×¡', e:'ðŸšŒ' },
      { char:'×‘', w:'×‘×•×œ×“×•×–×¨', speakW:'×‘Ö¼×•Ö¼×œÖ°×“Ö¼×•Ö¹×–Ö¶×¨', e:'ðŸšœ' },
      { char:'×’', w:'×’×³×™×¤', speakW:'×’Ö´×³×™×¤Ö¼', e:'ðŸš™' },
      { char:'×“', w:'×“×—×¤×•×¨', speakW:'×“Ö·Ö¼×—Ö°×¤Ö¼×•Ö¹×¨', e:'ðŸ—ï¸' },
      { char:'×”', w:'×”×œ×™×§×•×¤×˜×¨', speakW:'×”Öµ×œÖ´×™×§×•Ö¹×¤Ö°Ö¼×˜Ö¶×¨', e:'ðŸš' },
      { char:'×•', w:'×•××Ÿ', speakW:'×•Ö¸××Ÿ', e:'ðŸš' },
      { char:'×–', w:'×–×¨×•×¢', speakW:'×–Ö°×¨×•Ö¹×¢Ö·', e:'ðŸ—ï¸' },
      { char:'×—', w:'×—×œ×œ×™×ª', speakW:'×—Ö²×œÖ¸×œÖ´×™×ª', e:'ðŸš€' },
      { char:'×˜', w:'×˜×¨×§×˜×•×¨', speakW:'×˜Ö°×¨Ö·×§Ö°×˜×•Ö¹×¨', e:'ðŸšœ' },
      { char:'×™', w:'×™××›×˜×”', speakW:'×™Ö·××›Ö°×˜Ö¸×”', e:'ðŸ›¥ï¸' },
      { char:'×›', w:'×›×‘××™×ª', speakW:'×›Ö·Ö¼×‘Ö¸Ö¼×Ö´×™×ª', e:'ðŸš’' },
      { char:'×œ', w:'×œ×™×ž×•×–×™× ×”', speakW:'×œÖ´×™×ž×•Ö¼×–Ö´×™× Ö¸×”', e:'ðŸ™ï¸' },
      { char:'×ž', w:'×ž×˜×•×¡', speakW:'×žÖ¸×˜×•Ö¹×¡', e:'âœˆï¸' },
      { char:'× ', w:'× ×™×™×“×ª ×ž×©×˜×¨×”', speakW:'× Ö·×™Ö¶Ö¼×“Ö¶×ª ×ž×©×˜×¨×”', e:'ðŸš“' },
      { char:'×¡', w:'×¡×™×¨×”', speakW:'×¡Ö´×™×¨Ö¸×”', e:'â›µ' },
      { char:'×¢', w:'×¢×’×œ×”', speakW:'×¢Ö²×’Ö¸×œÖ¸×”', e:'ðŸ›’' },
      { char:'×¤', w:'×¤×¨××¨×™', speakW:'×¤Ö¶×¨Ö¸××¨Ö´×™', e:'ðŸŽï¸' },
      { char:'×¦', w:'×¦×•×œ×œ×ª', speakW:'×¦×•Ö¹×œÖ¶×œÖ¶×ª', e:'ðŸ¤¿' },
      { char:'×§', w:'×§×•×¨×§×™× ×˜', speakW:'×§×•Ö¹×¨Ö°×§Ö´×™× Ö¶×˜', e:'ðŸ›´' },
      { char:'×¨', w:'×¨×›×‘×ª', speakW:'×¨Ö·×›Ö¶Ö¼×‘Ö¶×ª', e:'ðŸš‚' },
      { char:'×©', w:'×©×‘×¨×•×œ×˜', speakW:'×©Ö¶××‘Ö°×¨×•Ö¹×œÖ¶×˜', e:'ðŸš—' },
      { char:'×ª', w:'×ª×œ×ª-××•×¤×Ÿ', speakW:'×ª×œÖ·×ª-××•Ö¹×¤Ö·×Ÿ', e:'ðŸ›º' }
    ]
  },
  en: {
    dir: 'ltr',
    langCode: 'en-US',
    data: [
      { char: 'A a', w: 'Ambulance', e: 'ðŸš‘' },
      { char: 'B b', w: 'Bus', e: 'ðŸšŒ' },
      { char: 'C c', w: 'Car', e: 'ðŸš—' },
      { char: 'D d', w: 'Dump Truck', e: 'ðŸš›' },
      { char: 'E e', w: 'Engine (Train)', e: 'ðŸš‚' },
      { char: 'F f', w: 'Fire Truck', e: 'ðŸš’' },
      { char: 'G g', w: 'Garbage Truck', e: 'ðŸš›ðŸ—‘ï¸' },      // no real garbage-truck emoji
      { char: 'H h', w: 'Helicopter', e: 'ðŸš' },
      { char: 'I i', w: 'Icebreaker', e: 'ðŸš¢â„ï¸' },        // no dedicated icebreaker
      { char: 'J j', w: 'Jet', e: 'âœˆï¸' },
      { char: 'K k', w: 'Kayak', e: 'ðŸ›¶' },
      { char: 'L l', w: 'Lorry', e: 'ðŸšš' },
      { char: 'M m', w: 'Motorcycle', e: 'ðŸï¸' },
      { char: 'N n', w: 'Noodle Truck', e: 'ðŸššðŸœ' },
      { char: 'O o', w: 'Off-road Vehicle', e: 'ðŸš™' },
      { char: 'P p', w: 'Police Car', e: 'ðŸš“' },
      { char: 'Q q', w: 'Quad Bike (ATV)', e: 'ðŸ›º' },     // closest available
      { char: 'R r', w: 'Rocket', e: 'ðŸš€' },
      { char: 'S s', w: 'Submarine', e: 'ðŸ¤¿' },            // no submarine emoji
      { char: 'T t', w: 'Tractor', e: 'ðŸšœ' },
      { char: 'U u', w: 'Unicycle', e: 'ðŸ›ž' },             // closest match
      { char: 'V v', w: 'Van', e: 'ðŸš' },
      { char: 'W w', w: 'Wheelchair', e: 'ðŸ¦½' },
      { char: 'X x', w: 'Xebec', e: 'â›µ' },
      { char: 'Y y', w: 'Yacht', e: 'ðŸ›¥ï¸' },
      { char: 'Z z', w: 'Zeppelin', e: 'ðŸ›¸' }              // closest (no airship emoji)
    ]
  }
};

// 1. Determine Language from URL (?lang=en or ?lang=he)
const urlParams = new URLSearchParams(window.location.search);
const currentLangKey = urlParams.get('lang') === 'en' ? 'en' : 'he';
const config = languages[currentLangKey];

let index = 0;

function init() {
  // Apply visual layout based on language
  document.getElementById('html-tag').setAttribute('lang', currentLangKey);
  document.getElementById('body-tag').className = config.dir;
  
  if (config.dir === 'rtl') {
    document.getElementById('nav-container').classList.add('mirror');
  }

  updateDisplay();
}

function updateDisplay() {
  const item = config.data[index];
  document.getElementById('letter').textContent = item.char;
  document.getElementById('word').textContent = item.w;
  document.getElementById('emoji').textContent = item.e;
}

function changeLetter(dir) {
  index = (index + dir + config.data.length) % config.data.length;
  updateDisplay();
  speakAll();
}

function speakAll() {
  speechSynthesis.cancel();

  const item = config.data[index];
  const voices = speechSynthesis.getVoices();
  const voice = voices.find(v => v.lang.startsWith(currentLangKey));

  const letterMsg = new SpeechSynthesisUtterance(item.char.split(' ')[0].toLowerCase());
  letterMsg.lang = config.langCode;
  if (voice) letterMsg.voice = voice;
  letterMsg.rate = 0.9;

  const wordMsg = new SpeechSynthesisUtterance(item.speakW || item.w);
  wordMsg.lang = config.langCode;
  if (voice) wordMsg.voice = voice;
  wordMsg.rate = 0.8;

  speechSynthesis.speak(letterMsg);
  speechSynthesis.speak(wordMsg);
}

// Initial setup
window.onload = init;
speechSynthesis.onvoiceschanged = () => speechSynthesis.getVoices();
</script>

</body>
<script src="disable-zoom.js"></script>
</html>